<style> 
    th {
    cursor: pointer;
    }
</style>
</head>
<body>
    {{>navigationAdm}}
    <div class="container">
        <div><h2 class="text-center mt-2 mb-10 fst-italic">Denuncias realizadas por los usuarios</h2></div>
        <div class="mt-5 mb-5">
        <form action="" onsubmit="event.preventDefault()">
            <div><h3>Buscar por:</h3></div>
            <div class="row g-3">
                <div class="col-md">
                    <div class="form-floating">
                    <input type="text" class="form-control" id="emprendimiento" name="nombreemprendimiento" onkeyup="buscarDen()">
                    <label for="emprendimiento">Nombre del Emprendimiento</label>
                    </div>
                </div>
                <div class="col-md">
                    <div class="form-floating">
                    <select class="form-select" id="Motivo" name="motivo" aria-label="Floating label select example" onchange="buscarDen()">
                        <option value='Todos'selected>Todos</option>
                        <option value='Insalubridad'>Insalubridad</option>
                        <option value='Lugar Inexistente'>Lugar Inexistente</option>
                        <option value='Malos Tratos'>Malos Tratos</option>
                        <option value='Otro'>Otro</option>
                    </select>
                    <label for="Motivo">Motivo de la denuncia</label>
                    </div>
                </div>
                <div class="col-md">
                    <div class="form-floating">
                    <select class="form-select" id="Categoria" name="categoria" aria-label="Floating label select example" onchange="buscarDen()">
                        <option value='"A","T"'selected>Todas</option>
                        <option value='"A"'>Alojamientos</option>
                        <option value='"T"'>Tours</option>
                    </select>
                    <label for="Categoria">Categoría</label>
                    </div>
                </div>
                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <button type="button" class="btn btn-primary" onclick="buscarDen()">Buscar</button>
                </div>
            
            </div>
        </form>
        </div>
        <div>
            <p class="fs-5 fst-italic" id="noencontrado"></p>
            <h6 class="fw-ligth text-end" id="cantidadDenuncias">Cantidad de denuncias: {{[1]}}</h6>
        </div>
        <div class="table-responsive">
        <table class="table table-hover" id="myTable">
            <thead id='cabeceraTabla' class="text-center">
                <tr>
                <th scope="col" onclick="sortTable(0, 'int')" style="width:150px;">Nro Denuncia <i class="fas fa-exchange-alt" style="transform:rotate(90deg);"></i></th>
                <th scope="col" onclick="sortTable(1, 'str')" style="width:280px;">Emprendimiento Denunciado <i class="fas fa-exchange-alt" style="transform:rotate(90deg);"></i></th>
                <th scope="col" onclick="sortTable(2, 'str')" style="width:150px;">Categoría <i class="fas fa-exchange-alt" style="transform:rotate(90deg);"></i></th>
                <th scope="col" onclick="sortTable(3, 'str')">Motivo <i class="fas fa-exchange-alt" style="transform:rotate(90deg);"></i></th>
                <th scope="col">Descripción</th>
                </tr>
            </thead>
            <tbody id='cuerpoTabla'>
                {{#each [0].denuncias}}
                    <tr>
                        <td scope="row" class="text-center fw-bold">{{nroDenuncia}}</td>
                        <td>{{nombreemprendimiento}}</td>
                        <td class="text-center">{{categoria}}</td>
                        <td class="text-center">{{motivo}}</td>
                        <td>{{descripcion}}</td>
                    </tr>
                {{else}}
                    <h5 class="text-center m-2">No se han encontrado resultados</h5>
                {{/each}}
            </tbody>
        </table>
        </div>
    </div>
    <script src="/js/buscarDenuncias.js"></script>
    <script src="/js/ordenarTabla.js"></script>
    <script>
        const linkactivo=document.getElementById("Denuncias")
        linkactivo.classList.add('active')
    </script>